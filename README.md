![logo](transgram.png)
Description
================

TransGram is a genome-guided transcriptome reconstruction tool for long RNA-seq reads.


Prerequisites
================

  g++ with support for C++11 (e.g. 9.4.0)
  
  Please ensure that [xgboost][xgboost] is properly installed !
 

# 1. Installing and test

    
    (A) Installing XGBoost (v2.1.3), scikit-learn (v1.7.1), numpy (v1.26.4), and pandas (v2.2.2).
          
    (B) Download the lastest version of TransGram and make.
    
          $ git clone https://github.com/yutingsdu/TransGram 
          $ cd TransGram
          $ make all release
          
	      Completing the installation procedure will require a few minutes. 
	  
    (C) Test TransGram on the demo data set.
        
        Change to TransGram/sample_test/, and type the following command:
        
          $ ./run_me.sh
          
	If you get the transgram_outdir/TransGram.gtf, congrats, you succesfully installed TransGram.
      
        

# 2. Usage 


TransGram-v.0.0 usage:

** Required **

TransGram supports two distinct transcriptome reconstruction modes: an annotation-free mode, which requires only a sorted BAM file as input, and an annotation-guided mode, in which reconstruction is assisted by a user-provided annotation file, requiring both a sorted BAM file and an annotation file. For training a customized model, please refer to the [customized model][customized model] section.

    --bam/-b <string>		: Path to the alignment BAM files generated by minimap2.

---------------------------------------------------------------------------

** Options **

    --help/-h			: Output TransGram Help Information

    --version/-v		: Print current version of TransGram

    --annotation/-G	       <string>	: Reference annotation to use for guiding the assembly process. (GTF)

    --specify_data_type/-S <string>	: Specify data type to be "alpha" or "beta". (default: data type will be determined by TransGram)

    --output_dir/-o        <string>	: Output path for TransGram (default:transgram_outdir)

    --min_trans_length/-l  <int>   	: Minimum assembled transcript length (default:200)

    --min_trans_score/-s   <double> 	: Minimum xGboost score for the assembled transcripts (default:0.1)

    --min_average_frac/-c  <double>  : Minimum junction coverage fraction by average junction coverage (default:0.001)

    --QA		           <string>	: Path to the transcripts generated from the correspoding BAM file (in GTF format).
				        TransGram will assess the quality and filter them based on a specific parameter (requires -s)

    --train 			: Train a new modle using user-provided data.
				        (Requires the -b, -G, and -o  option, and gffcompare must be installed.)

    --CusModel	           <string>  : Path to the customized model created by the users.

---------------------------------------------------------------------------

** Typical Commands **

A typical TransGram command for the long RNA-seq data under annotation-free mode might be:

    TransGram -b alignment.bam -o transgram_outdir
    
A command for the long RNA-seq data under annotation-guided mode might be:
    
    TransGram -b alignment.bam -G annotation.gtf -o transgram_outdir

Perform quality assessment on your transcripts (my-transcript.gtf) using TransGram.

    TransGram -b alignment.bam --QA my-transcript.gtf -o transgram_outdir

---------------------------------------------------------------------------

** Output Description **

TransGram returns the following files during transcriptome reconstruction:

    TransGram.gtf: Contains all transcripts (multi-exon transcripts) reconstructed by TransGram with a quality score above the threshold.

    TransGram-temp.gtf: Contains all multi-exon transcripts reconstructed by TransGram.

    TransGram-singleExon.gtf: Contains all single-exon transcripts reconstructed by TransGram.

    TransGram.score: Contains the quality scores predicted by TransGram for the transcripts.

    TransGram-Abundance.tsv: Includes TransGram-estimated expression levels for transcripts.

The following four files saved in the /tmp directory are temporary intermediates created during splice graph construction from alignment data:
transgram.graph, gtf2path.info, data.info, transgram.reads.raw.align, transgram.read.length


# 3. Running TransGram with a customized model


If you choose to run TransGram with a customized model for filtering the discovered transcripts, please refer to [training][training].

---------------------------------------------------------------------------

Authors: Ting Yu and Zitong Ren designed and wrote TransGram.<br>
Contact:<br>
Any questions, problems, bugs are welcome and should be dumped to Ting Yu <yutingsdu@163.com> <br>
Updated on Dec 13, 2024. <br>

[xgboost]: https://github.com/dmlc/xgboost
[training]: https://github.com/yutingsdu/TransGram/tree/main/xgboost_predict/train
[customized model]:https://github.com/yutingsdu/TransGram?tab=readme-ov-file#3-running-transgram-with-a--customized-model
